{%extends 'main/base.html'%}
{%load static%}
{%load crispy_forms_tags %}

{%block title%}Cart{%endblock%}
{%block aftermain%}{%endblock%}
{%block style%}

{%endblock%}

{%block navsearch%}{%endblock%}
{%block SignUp%}{%endblock%}

{%block slider%}{%endblock%}

{%block navmenu%}
    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item display-6 text-white">My Cart</li>
    </ul>
{%endblock%}

{%block main%}
    <div class= "container">
        <h3 id='myH2'>MyCart</h3>
        <div class="row">
            <div class="col-lg-12">
                <div class="box-element">
                    <a class="btn btn-outline-dark" href="{% url 'store'%}">&#x2190; Continue Shopping</a>
                    <br>
                    <table class="table">
                        <tr>
                            <th><h5>Items: <strong>{{order.get_cart_items}}</strong></h5></th>
                            <th><h5>Total: <strong>&#8358; {{order.get_cart_total}}</strong></h5></th>
                            <th>
                                <a class="btn btn-success rounded-0 align-checkout-content " href="{% url 'checkout'%}">  Checkout</a>
                            </th>
                        </tr>
                    
                    </table>
                </div>

                <br>  
        
                <div class="box-element">
                    <div class="cart-row">
                        <div style="flex:2"></div>
                        <div style="font-weight:bold; flex:2">Item</div>
                        <div style="font-weight:bold; flex:1">Price</div>
                        <div style="font-weight:bold; flex:1">Quantity</div>
                        <div style="font-weight:bold; flex:1">Total</div>
                    </div>

                    {% for item in items %}
                    <div class="cart-row">
                        <div style="flex:2"><img class="row-image" src="{{item.product.imageUrl}}"></div>
                        <div style="flex:2">{{item.product.name}}</div>
                        <div style="flex:1">&#8358; {{item.product.price}}</div>  
                        <div style="flex:1">
                            <p class="quantity">{{item.quantity}}</p>
                            <img data-product="{{item.product.id}}" data-action="add" class="chg-quantity update-cart" src="{%static 'main/images/arrow-up.png'%}">

                            <img data-product="{{item.product.id}}" data-action="remove" class="chg-quantity update-cart" src="{%static 'main/images/arrow-down.png'%}">

                        </div>
                        <div style="flex:1">&#8358; {{item.get_total}}</div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        
        </div>

    </div>
{%endblock%}

{%block footer%}
{%endblock%}
